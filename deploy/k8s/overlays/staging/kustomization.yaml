apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: aixgo-staging

namePrefix: staging-

bases:
- ../../base

patchesStrategicMerge:
- deployment-patch.yaml

configMapGenerator:
- name: aixgo-config
  behavior: merge
  literals:
  - environment=staging
  - log_level=debug

replicas:
- name: aixgo-orchestrator
  count: 1
- name: mcp-server
  count: 1
- name: ollama
  count: 1

images:
- name: REGION-docker.pkg.dev/PROJECT_ID/aixgo/orchestrator
  newTag: staging
- name: REGION-docker.pkg.dev/PROJECT_ID/aixgo/mcp-server
  newTag: staging
