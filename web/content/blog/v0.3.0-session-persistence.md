---
title: "Aixgo v0.3.0: Session Persistence, Runtime Consolidation, and Security Hardening"
date: 2026-02-08
description: "AI agents that remember with built-in session persistence, unified runtime API, distributed runtime parity, and comprehensive security fixes"
tags: ["release", "sessions", "security", "runtime"]
author: "Aixgo Team"
---

We're excited to announce **Aixgo v0.3.0**, a major release bringing enterprise-grade session persistence, a unified runtime API, distributed runtime feature parity, and comprehensive security hardening. This release transforms how you build stateful AI agents in Go.

## What's New in v0.3.0

### 1. Session Persistence (Major Feature)

AI agents now have memory out of the box. The new `pkg/session/` package provides durable conversation history with automatic persistence, checkpoints, and seamless resumption.

**Key Features:**

- **JSONL File Storage** - Lightweight, inspectable session storage with append-only writes
- **Redis Backend** - Distributed session support for multi-node deployments
- **Checkpoint/Restore** - Save conversation state and rollback when needed
- **Runtime Integration** - `CallWithSession()` automatically manages session lifecycle
- **Session-Aware Agents** - ReAct agents gain access to full conversation history

**Quick Example:**

```go
// Create session infrastructure
backend, _ := session.NewFileBackend("~/.aixgo/sessions")
mgr := session.NewManager(backend)
defer mgr.Close()

// Create a session for a user
sess, _ := mgr.GetOrCreate(ctx, "assistant", "user-123")

// Call agent with session - history automatically persists
result, _ := rt.CallWithSession(ctx, "assistant", msg, sess.ID())

// Create checkpoint before risky operation
checkpoint, _ := sess.Checkpoint(ctx)

// Restore if needed
sess.Restore(ctx, checkpoint.ID)
```

**Why This Matters:**

- **No More Memory Loss** - Agents remember context across restarts
- **Production-Ready** - Built-in persistence without external dependencies
- **Developer Friendly** - Sessions are automatic; opt-out for stateless use cases

**Performance:**

| Operation | Latency |
|-----------|---------|
| Create session | <1ms |
| Append message | <1ms |
| Get 100 messages | <5ms |
| Checkpoint | <1ms |

See [SESSIONS.md](https://github.com/aixgo-dev/aixgo/blob/main/docs/SESSIONS.md) for comprehensive documentation.

### 2. Unified Runtime API

The runtime API is now unified with `aixgo.NewRuntime()` using the functional options pattern:

```go
rt := aixgo.NewRuntime(
    aixgo.WithSessionManager(sessionMgr),
    aixgo.WithMetrics(metricsCollector),
    aixgo.WithTimeout(30*time.Second),
)
rt.Register("agent1", agent1)
rt.Start(ctx)
```

**Benefits:**

- **Cleaner API** - Single constructor with optional configuration
- **Flexible** - Functional options pattern for extensibility
- **Future-Proof** - Easy to add new options without breaking changes

### 3. Distributed Runtime Parity

The distributed runtime (`DistributedRuntime`) now has feature parity with the local runtime.

**New Capabilities:**

1. **TLS/mTLS Support**

```go
rt, err := runtime.NewDistributedRuntime(
    ":50051",
    runtime.WithTLS(certFile, keyFile, caFile),  // mTLS
    runtime.WithExternalTLS(),                    // Service mesh mode
)
```

2. **gRPC Streaming**

Remote agents now support streaming for long-running operations and real-time responses.

3. **Session Manager Integration**

```go
// Distributed runtime with sessions
rt.SetSessionManager(sessionMgr)

// Sessions work transparently across nodes
result, _ := rt.CallWithSession(ctx, "remote-agent", msg, sessID)
```

4. **Redis Session Backend**

For distributed deployments, use Redis for shared session storage:

```go
backend, err := session.NewRedisBackend(
    "localhost:6379",
    session.RedisOptions{
        Password: os.Getenv("REDIS_PASSWORD"),
        DB:       0,
        KeyPrefix: "aixgo:sessions:",
    },
)
```

**Use Cases:**

- **Multi-Node Orchestration** - Scale agents across machines
- **Service Mesh Deployments** - Integrate with Istio, Linkerd
- **Kubernetes** - Cloud-native agent deployments
- **High Availability** - Redundant agent instances with shared state

### 4. Security Hardening (29 Fixes)

We've resolved **29 code scanning alerts** from GitHub Advanced Security, addressing critical security concerns.

**Major Fixes:**

1. **G204: Subprocess Injection Prevention**

```go
// Before: Vulnerable to command injection
exec.Command("sh", "-c", userInput)

// After: Validated inputs with allowlist
if err := ValidateDeploymentInputs(platform, region); err != nil {
    return fmt.Errorf("invalid input: %w", err)
}
```

2. **G304: Path Traversal Prevention**

```go
// Before: Vulnerable to directory traversal
filepath.Join(baseDir, userProvidedPath)

// After: Validated safe paths
if err := ValidateSafeFilePath(path, baseDir); err != nil {
    return fmt.Errorf("unsafe path: %w", err)
}

// Session backend validates all components
func validatePathComponent(s string) error {
    if strings.Contains(s, "..") || strings.ContainsAny(s, "/\\") {
        return fmt.Errorf("invalid path component: %q", s)
    }
    return nil
}
```

3. **G402: TLS Security**

```go
// Before: InsecureSkipVerify without warning
tls.Config{InsecureSkipVerify: true}

// After: Explicit warning and alternatives
// WARNING: InsecureSkipVerify=true disables certificate validation
// Only use in development. For production:
// 1. Use proper certificates
// 2. Use ExternalTLS for service mesh
// 3. Never expose to untrusted networks
```

4. **G115: Safe Integer Conversions**

```go
// Before: Unsafe conversions
int32(userValue)  // Can overflow

// After: Bounds checking
func safeIntToInt32(v int) (int32, error) {
    if v < math.MinInt32 || v > math.MaxInt32 {
        return 0, fmt.Errorf("value %d out of int32 range", v)
    }
    return int32(v), nil
}
```

5. **G404: Cryptographic Randomness**

```go
// Before: math/rand for security-critical operations
rand.Intn(100)

// After: crypto/rand for session IDs and tokens
func generateSessionID() string {
    b := make([]byte, 16)
    if _, err := crypto_rand.Read(b); err != nil {
        panic(err)
    }
    return hex.EncodeToString(b)
}
```

**Security Best Practices:**

- **Example Secrets** - All documentation uses placeholder patterns (`<your-api-key>`)
- **Input Validation** - Strict allowlists for deployment commands and file paths
- **File Permissions** - Session storage uses restrictive 0700/0600 permissions
- **TLS Warnings** - Clear documentation of security implications

See [SECURITY.md](https://github.com/aixgo-dev/aixgo/blob/main/docs/SECURITY.md) for comprehensive security guidelines.

## Examples

We've added two complete session examples:

1. **session-basic** - Session CRUD, checkpoints, and context helpers
2. **session-react** - ReAct agent with full conversation history

Run them:

```bash
cd examples/session-basic && go run main.go
cd examples/session-react && go run main.go
```

## Breaking Changes

### Session Storage Location

Default session storage moved to `~/.aixgo/sessions`:

```yaml
session:
  base_dir: ~/.aixgo/sessions  # New default (was ./sessions)
```

## Installation

### As a Library

```bash
go get github.com/aixgo-dev/aixgo@v0.3.0
```

### CLI Tools

```bash
go install github.com/aixgo-dev/aixgo/cmd/orchestrator@v0.3.0
```

### From Source

```bash
git clone https://github.com/aixgo-dev/aixgo.git
cd aixgo
git checkout v0.3.0
go build ./...
```

## What's Next

**v0.3.1 (February 2026)**:

- Session encryption at rest
- Audit logging for session operations
- PostgreSQL session backend
- Session retention policies

**v0.3.2 (March 2026)**:

- Conversation branching and trees
- Session search and filtering
- Memory compaction and summarization

**v0.4.0 (Q2 2026)**:

- Semantic search over session history
- Long-term memory with vector stores
- Multi-modal session support (images, audio)

## Resources

- **Documentation**: [docs/SESSIONS.md](https://github.com/aixgo-dev/aixgo/blob/main/docs/SESSIONS.md)
- **Examples**: [examples/session-basic](https://github.com/aixgo-dev/aixgo/tree/main/examples/session-basic), [examples/session-react](https://github.com/aixgo-dev/aixgo/tree/main/examples/session-react)
- **Feature Catalog**: [docs/FEATURES.md](https://github.com/aixgo-dev/aixgo/blob/main/docs/FEATURES.md)
- **Security Guide**: [docs/SECURITY.md](https://github.com/aixgo-dev/aixgo/blob/main/docs/SECURITY.md)

## Feedback

We'd love to hear from you:

- **GitHub Issues**: [github.com/aixgo-dev/aixgo/issues](https://github.com/aixgo-dev/aixgo/issues)
- **Discussions**: [github.com/orgs/aixgo-dev/discussions](https://github.com/orgs/aixgo-dev/discussions)
- **Twitter**: [@aixgo_dev](https://twitter.com/aixgo_dev)

## Contributors

Thank you to everyone who contributed to this release through code, documentation, testing, and feedback.

---

**Aixgo** - Production-grade AI agents in Go.

[Website](https://aixgo.dev) | [GitHub](https://github.com/aixgo-dev/aixgo) | [Documentation](https://pkg.go.dev/github.com/aixgo-dev/aixgo)
